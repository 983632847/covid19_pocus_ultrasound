{"version":3,"sources":["webpack:///./resources/js/utils/animation.js","webpack:///./resources/js/components/Content/Text.js","webpack:///./resources/js/components/Content/TextSimple.js","webpack:///./resources/js/components/Footer/Footer.js","webpack:///./resources/js/pages/Layout.js","webpack:///./node_modules/react-use/esm/useIntersection.js","webpack:///./resources/js/pages/Screen/ScreenResult.js","webpack:///./resources/js/pages/Screen/ScreenResults.js"],"names":["useFadeInOnScroll","ref","el","onScreen","useIntersection","root","rootMargin","threshold","current","intersectionRatio","querySelectorAll","gsap","to","opacity","y","stagger","amount","ease","Text","props","sectionRef","useRef","className","title","subtitle","text","TextSimple","Footer","configuration","appTitle","href","target","Date","getFullYear","Train","children","options","_a","intersectionObserverEntry","setIntersectionObserverEntry","IntersectionObserver","observer_1","entries","observe","disconnect","ScreenResult","image","data","results","colorClass","preview","URL","createObjectURL","res","JSON","parse","result","maxValueIndex","indexOf","Math","max","probability","round","src","alt","path","style","width","ScreenResults","location","useLocation","useState","setResults","loading","setLoading","useEffect","formData","FormData","state","files","map","file","append","fetch","method","body","then","json","concat","Layout","minHeight","length","index","key"],"mappings":"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","file":"3.js","sourcesContent":["import {useIntersection} from 'react-use';\nimport gsap from \"gsap\";\n\nexport function useFadeInOnScroll(ref) {\n    const threshold = .45;\n    const onScreen = useIntersection(ref, {\n        root: null,\n        rootMargin: '0px',\n        threshold: threshold\n    });\n\n    const fadeIn = (el) => {\n        gsap.to(el, .67, {opacity: 1, y: -30, stagger: {amount: .6}, ease: 'power4.out'})\n    };\n\n    if (ref.current && onScreen && onScreen.intersectionRatio >= threshold) {\n        fadeIn(ref.current.querySelectorAll('.fadeIn'));\n    }\n}\n","import React, {useRef} from 'react';\nimport TextSimple from './TextSimple';\nimport {useFadeInOnScroll} from '../../utils/animation';\n\nconst Text = (props) => {\n\n    const sectionRef = useRef(null);\n    useFadeInOnScroll(sectionRef);\n\n    return (\n        <div className=\"text row mb-5\" ref={sectionRef}>\n            <div className=\"col-8 col-lg-8 col-xl-6 offset-lg-1\">\n                <TextSimple title={props.title} subtitle={props.subtitle} text={props.text}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Text;\n","import React from 'react';\n\nconst TextSimple = (props) => {\n\n    return (\n        <>\n            <header>\n                {props.subtitle &&\n                <p className=\"fadeIn mb-0\">{props.subtitle}</p>\n                }\n                <h2 className=\"fadeIn mb-4\">{props.title}</h2>\n            </header>\n            <p className=\"fadeIn\">{props.text}</p>\n        </>\n    );\n};\n\nexport default TextSimple;\n","import React from 'react';\nimport configuration from '../../utils/constants';\n\nconst Footer = () => {\n\n    return (\n        <footer className=\"app-footer pt-5\">\n            <div className=\"container mb-4\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 col-lg-5 mb-5 mb-md-0\">\n                        <h2 className=\"mb-1\">{configuration.appTitle}</h2>\n                        <p>POCUS image analysis through AI to screen COVID-19 and pneumonia or healthy people.</p>\n                    </div>\n                    <div className=\"col-md-6 col-lg-5 offset-lg-2\">\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <h3 className=\"mb-4\">Legal</h3>\n                                <ul className=\"app-footer-links\">\n                                    <li><a href=\"\">Data privacy</a></li>\n                                    <li><a href=\"\">Terms of service</a></li>\n                                </ul>\n                            </div>\n                            <div className=\"col offset-1\">\n                                <h3 className=\"mb-4\">Handy links</h3>\n                                <ul className=\"app-footer-links\">\n                                    <li><a href=\"https://arxiv.org/abs/2004.12084\" title=\"Read our scientific article\" target=\"_blank\">Scientific article</a></li>\n                                    <li><a href=\"https://github.com/jannisborn/covid19_pocus_ultrasound\" target=\"_blank\" title=\"Find out how we achieved this\">GitHub repository</a></li>\n                                    <li><a href=\"https://devpost.com/software/automatic-detection-of-covid-19-from-pocus-ultrasound-data\" target=\"_blank\" title=\"Read our DevPost\">DevPost</a></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"copyright py-2\">\n                <div className=\"container\">\n                    <div className=\"row justify-content-between\">\n                        <div className=\"col\">Â© Copyright {(new Date().getFullYear())}</div>\n                        <div className=\"col text-right\">A <a href=\"https://www.codevscovid19.org/\" target=\"_blank\"\n                                                             title=\"Visit the official event page\">#CodeVsCovid19</a>, <a href=\"https://euvsvirus.org/\" target=\"_blank\"\n                                                                                                                          title=\"Visit the official event page\">#EUvsVirus</a>  project\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    );\n};\n\nexport default Footer;\n","import React from 'react';\nimport Footer from '../components/Footer/Footer';\n\nconst Train = ({className, ...props}) => {\n    return (\n        <>\n            <main className=\"app-main\">\n                <div className={className}>\n                    {props.children}\n                </div>\n            </main>\n            <Footer/>\n        </>\n    );\n};\n\nexport default Train;\n","/* eslint-disable */\nimport { useEffect, useState } from 'react';\nvar useIntersection = function (ref, options) {\n    var _a = useState(null), intersectionObserverEntry = _a[0], setIntersectionObserverEntry = _a[1];\n    useEffect(function () {\n        if (ref.current && typeof IntersectionObserver === 'function') {\n            var handler = function (entries) {\n                setIntersectionObserverEntry(entries[0]);\n            };\n            var observer_1 = new IntersectionObserver(handler, options);\n            observer_1.observe(ref.current);\n            return function () {\n                setIntersectionObserverEntry(null);\n                observer_1.disconnect();\n            };\n        }\n        return function () { };\n    }, [ref.current, options.threshold, options.root, options.rootMargin]);\n    return intersectionObserverEntry;\n};\nexport default useIntersection;\n","import React, {useEffect} from 'react';\n\nconst ScreenResult = ({image, data}) => {\n\n    let results = '';\n    let colorClass = '';\n\n    image.preview = URL.createObjectURL(image);\n    const res = JSON.parse(data.result);\n    const maxValueIndex = res.indexOf(Math.max(...res));\n    const probability = Math.round(res[maxValueIndex] * 100);\n\n    switch (maxValueIndex) {\n        case 0:\n            results = 'COVID-19 symptoms';\n            break;\n        case 1:\n            results = 'Pneumonia symptoms';\n            break;\n        case 2:\n            results = 'Healthy';\n            break;\n    }\n\n    if (probability >= 0 && probability < 50) {\n        colorClass = 'red';\n    } else if (probability >= 50 && probability < 80) {\n        colorClass = 'orange';\n    } else {\n        colorClass = 'green';\n    }\n\n    return (\n        <div className={`result ${colorClass} d-md-flex mb-5`}>\n            <div className=\"result-image\">\n                <img src={image.preview} alt={`Result for ${image.path}`}/>\n            </div>\n            <div className=\"result-information align-self-center px-5 py-4 mt-md-0 w-100\">\n                <div className=\"result-information-part image-title\">\n                    <h3>Title</h3>\n                    <p>{image.path}</p>\n                </div>\n                <div className=\"result-information-part symptoms\">\n                    <h3 className=\"mt-4\">Results</h3>\n                    <p className=\"result-text\">{results}</p>\n                </div>\n                <div className=\"result-information-part probability no-border\">\n                    <h3 className=\"mt-4\">Probability</h3>\n                    <div className=\"progress my-3\">\n                        <div className=\"progress-size\" style={{width: `${probability}%`}}></div>\n                    </div>\n                    <p className=\"result-probability\">{probability}&#37;</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ScreenResult;\n","import React, {useEffect, useState} from 'react';\nimport Layout from '../Layout';\nimport Text from '../../components/Content/Text';\nimport {useLocation} from 'react-router-dom';\nimport ScreenResult from './ScreenResult';\n\nconst ScreenResults = () => {\n\n    const location = useLocation();\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        let formData = new FormData();\n        location.state.files.map((file) => {\n            formData.append('image', file);\n            fetch('/api/screen', {\n                method: 'POST',\n                body: formData\n            })\n            .then(data => data.json())\n            .then(data => {\n                setLoading(false);\n                setResults(results => results.concat({image: file, data: data}));\n            })\n        });\n    }, [location]);\n\n    return (\n        <Layout>\n            <div className=\"container spacer\">\n                <Text title=\"Results\"\n                      text=\"We highly recommend to follow approved clinical guidelines for the diagnosis and management of COVID19. By no means you should base your clinical decision solely on the result of this algorithm.\"/>\n                <div className=\"row\">\n                    <div className=\"col-lg-10 offset-lg-1\">\n                        <div className=\"placeholders\" style={{minHeight: location.state.files.length * 400}}>\n                            {loading && (<div>Loading...</div>)}\n                            {results.map((result, index) => (\n                                <ScreenResult key={index} data={result.data} image={result.image}/>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-lg-10 offset-lg-1\">\n                        <a href=\"/screen\" title=\"Run another test\" className=\"button primary round w-100 text-uppercase mt-4 d-block text-center\">Run another test</a>\n                    </div>\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default ScreenResults;\n"],"sourceRoot":""}